{"ast":null,"code":"var _jsxFileName = \"/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/src/Context.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport Data from './Data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\nexport class Provider extends withRouter(Component) {\n  constructor() {\n    super();\n    this.state = {\n      authenticatedUser: null\n    };\n    this.signIn = async (username, password) => {\n      const user = await this.data.getUser(username, password);\n      if (user !== null) {\n        this.setState(() => {\n          return {\n            authenticatedUser: user\n          };\n        });\n        Cookies.set('authenticatedUser', JSON.stringify(user), {\n          expires: 1\n        });\n      }\n      return user;\n    };\n    this.signOut = () => {\n      this.setState(() => {\n        return {\n          authenticatedUser: null\n        };\n      });\n      Cookies.remove('authenticatedUser');\n      this.props.history.push('/');\n    };\n    this.data = new Data();\n    this.cookie = Cookies.get('authenticatedUser');\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null\n    };\n  }\n  render() {\n    const {\n      authenticatedUser\n    } = this.state;\n    const value = {\n      authenticatedUser,\n      data: this.data,\n      actions: {\n        // Add the 'actions' property and object\n        signIn: this.signIn,\n        signOut: this.signOut\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: value,\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport const Consumer = Context.Consumer;\n\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: context => /*#__PURE__*/_jsxDEV(Component, {\n        ...props,\n        context: context\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  };\n}","map":{"version":3,"names":["React","Component","Link","withRouter","Cookies","Data","Context","createContext","Provider","constructor","state","authenticatedUser","signIn","username","password","user","data","getUser","setState","set","JSON","stringify","expires","signOut","remove","props","history","push","cookie","get","parse","render","value","actions","children","Consumer","withContext","ContextComponent","context"],"sources":["/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/src/Context.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport Data from './Data';\n\nconst Context = React.createContext(); \n\nexport class Provider extends withRouter(Component) {\n\n  state = {\n    authenticatedUser: null\n  };\n\n  constructor() {\n    super();\n    this.data = new Data();\n    this.cookie = Cookies.get('authenticatedUser');\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null\n    };\n  }\n\n\n  render() {\n    const { authenticatedUser } = this.state;\n\n    const value = {\n      authenticatedUser,\n      data: this.data,\n      actions: { // Add the 'actions' property and object\n        signIn: this.signIn,\n        signOut: this.signOut\n      }\n    };\n\n    return (\n      <Context.Provider value={value}>\n        {this.props.children}\n      </Context.Provider>  \n    );\n  }\n\n  \n  signIn = async (username, password)  => {\n    const user = await this.data.getUser(username, password);\n    if (user !== null) {\n      this.setState(() => {\n        return {\n          authenticatedUser: user,\n        };\n      });\n      Cookies.set('authenticatedUser', JSON.stringify(user), { expires: 1 });\n    }\n    return user;\n\n  }\n\n  signOut = () => {\n    this.setState(() => {\n      return {\n        authenticatedUser: null,\n      };\n    });\n    Cookies.remove('authenticatedUser');\n    this.props.history.push('/');\n  }\n}\n\nexport const Consumer = Context.Consumer;\n\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return (\n      <Context.Consumer>\n        {context => <Component {...props} context={context} />}\n      </Context.Consumer>\n    );\n  }\n}\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,IAAI,EAAEC,UAAU,QAAQ,kBAAkB;AACnD,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,IAAI,MAAM,QAAQ;AAAC;AAE1B,MAAMC,OAAO,gBAAGN,KAAK,CAACO,aAAa,EAAE;AAErC,OAAO,MAAMC,QAAQ,SAASL,UAAU,CAACF,SAAS,CAAC,CAAC;EAMlDQ,WAAW,GAAG;IACZ,KAAK,EAAE;IAAC,KALVC,KAAK,GAAG;MACNC,iBAAiB,EAAE;IACrB,CAAC;IAAA,KAgCDC,MAAM,GAAG,OAAOC,QAAQ,EAAEC,QAAQ,KAAM;MACtC,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,IAAI,CAACC,OAAO,CAACJ,QAAQ,EAAEC,QAAQ,CAAC;MACxD,IAAIC,IAAI,KAAK,IAAI,EAAE;QACjB,IAAI,CAACG,QAAQ,CAAC,MAAM;UAClB,OAAO;YACLP,iBAAiB,EAAEI;UACrB,CAAC;QACH,CAAC,CAAC;QACFX,OAAO,CAACe,GAAG,CAAC,mBAAmB,EAAEC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,EAAE;UAAEO,OAAO,EAAE;QAAE,CAAC,CAAC;MACxE;MACA,OAAOP,IAAI;IAEb,CAAC;IAAA,KAEDQ,OAAO,GAAG,MAAM;MACd,IAAI,CAACL,QAAQ,CAAC,MAAM;QAClB,OAAO;UACLP,iBAAiB,EAAE;QACrB,CAAC;MACH,CAAC,CAAC;MACFP,OAAO,CAACoB,MAAM,CAAC,mBAAmB,CAAC;MACnC,IAAI,CAACC,KAAK,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IAC9B,CAAC;IAlDC,IAAI,CAACX,IAAI,GAAG,IAAIX,IAAI,EAAE;IACtB,IAAI,CAACuB,MAAM,GAAGxB,OAAO,CAACyB,GAAG,CAAC,mBAAmB,CAAC;IAC9C,IAAI,CAACnB,KAAK,GAAG;MACXC,iBAAiB,EAAE,IAAI,CAACiB,MAAM,GAAGR,IAAI,CAACU,KAAK,CAAC,IAAI,CAACF,MAAM,CAAC,GAAG;IAC7D,CAAC;EACH;EAGAG,MAAM,GAAG;IACP,MAAM;MAAEpB;IAAkB,CAAC,GAAG,IAAI,CAACD,KAAK;IAExC,MAAMsB,KAAK,GAAG;MACZrB,iBAAiB;MACjBK,IAAI,EAAE,IAAI,CAACA,IAAI;MACfiB,OAAO,EAAE;QAAE;QACTrB,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBW,OAAO,EAAE,IAAI,CAACA;MAChB;IACF,CAAC;IAED,oBACE,QAAC,OAAO,CAAC,QAAQ;MAAC,KAAK,EAAES,KAAM;MAAA,UAC5B,IAAI,CAACP,KAAK,CAACS;IAAQ;MAAA;MAAA;MAAA;IAAA,QACH;EAEvB;AA0BF;AAEA,OAAO,MAAMC,QAAQ,GAAG7B,OAAO,CAAC6B,QAAQ;;AAExC;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAASC,WAAW,CAACnC,SAAS,EAAE;EAC7C,OAAO,SAASoC,gBAAgB,CAACZ,KAAK,EAAE;IACtC,oBACE,QAAC,OAAO,CAAC,QAAQ;MAAA,UACda,OAAO,iBAAI,QAAC,SAAS;QAAA,GAAKb,KAAK;QAAE,OAAO,EAAEa;MAAQ;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QACrC;EAEvB,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}