{"ast":null,"code":"var _jsxFileName = \"/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/src/Context.js\";\nimport React, { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Data from './Data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\nexport class Provider extends Component {\n  constructor() {\n    super();\n    this.state = {\n      authenticatedUser: null,\n      password: ''\n    };\n    this.signIn = async (username, password) => {\n      const user = await this.data.getUser(username, password);\n      if (user !== null) {\n        this.setState(() => {\n          return {\n            password,\n            authenticatedUser: user\n          };\n        });\n        Cookies.set('authenticatedUser', JSON.stringify(user), {\n          expires: 1\n        });\n        Cookies.set('password', JSON.stringify(password), {\n          expires: 1\n        });\n      }\n      return user;\n    };\n    this.signOut = () => {\n      this.setState(() => {\n        return {\n          password: '',\n          authenticatedUser: null\n        };\n      });\n      Cookies.remove('authenticatedUser', 'password');\n    };\n    this.data = new Data();\n    this.cookie = Cookies.get('authenticatedUser');\n    this.password = Cookies.get('password');\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null,\n      password: this.password ? JSON.parse(this.password) : null\n    };\n  }\n  render() {\n    const {\n      authenticatedUser\n    } = this.state;\n    const {\n      password\n    } = this.state;\n    const value = {\n      authenticatedUser,\n      password,\n      data: this.data,\n      actions: {\n        // Add the 'actions' property and object\n        signIn: this.signIn,\n        signOut: this.signOut\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: value,\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport const Consumer = Context.Consumer;\n\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: context => /*#__PURE__*/_jsxDEV(Component, {\n        ...props,\n        context: context\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  };\n}","map":{"version":3,"names":["React","Component","Cookies","Data","Context","createContext","Provider","constructor","state","authenticatedUser","password","signIn","username","user","data","getUser","setState","set","JSON","stringify","expires","signOut","remove","cookie","get","parse","render","value","actions","props","children","Consumer","withContext","ContextComponent","context"],"sources":["/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/src/Context.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Data from './Data';\n\nconst Context = React.createContext(); \n\nexport class Provider extends Component {\n\n  state = {\n    authenticatedUser: null,\n    password: '',\n  };\n\n  constructor() {\n    super();\n    this.data = new Data();\n    this.cookie = Cookies.get('authenticatedUser');\n    this.password = Cookies.get('password');\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null,\n      password: this.password ? JSON.parse(this.password) : null,\n    };\n  }\n\n\n  render() {\n    const { authenticatedUser } = this.state;\n    const { password } = this.state\n\n    const value = {\n      authenticatedUser,\n      password,\n      data: this.data,\n      actions: { // Add the 'actions' property and object\n        signIn: this.signIn,\n        signOut: this.signOut\n      }\n    };\n\n    return (\n      <Context.Provider value={value}>\n        {this.props.children}\n      </Context.Provider>  \n    );\n  }\n\n  \n  signIn = async (username, password)  => {\n    const user = await this.data.getUser(username, password);\n    if (user !== null) {\n      this.setState(() => {\n        return {\n          password,\n          authenticatedUser: user,\n        };\n      });\n      Cookies.set('authenticatedUser', JSON.stringify(user), { expires: 1 });\n      Cookies.set('password', JSON.stringify(password), { expires: 1 });\n    }\n    return user;\n\n  }\n\n  signOut = () => {\n    this.setState(() => {\n      return {\n        password: '',\n        authenticatedUser: null,\n      };\n    });\n    Cookies.remove('authenticatedUser', 'password');\n  }\n}\n\nexport const Consumer = Context.Consumer;\n\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return (\n      <Context.Consumer>\n        {context => <Component {...props} context={context} />}\n      </Context.Consumer>\n    );\n  }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}