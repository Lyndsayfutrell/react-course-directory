{"ast":null,"code":"import _classCallCheck from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{withRouter,Redirect}from'react-router-dom';import ReactMarkdown from\"react-markdown\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CourseDetail=/*#__PURE__*/function(_Component){_inherits(CourseDetail,_Component);var _super=_createSuper(CourseDetail);function CourseDetail(){var _this;_classCallCheck(this,CourseDetail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={title:'',description:'',estimatedTime:'',materialsNeeded:'',UserId:'',fullName:'',authUserId:'',didMount:'',errors:[]};_this.handleDelete=function(event){var password=_this.props.context.password;var username=_this.props.context.authenticatedUser.Username;var id=_this.props.match.params.id;event.preventDefault();_this.props.context.data.deleteCourse(username,password,id).then(_this.props.history.push('/')).catch(function(err){console.log(err);});};return _this;}_createClass(CourseDetail,[{key:\"componentDidMount\",value://runs api call and sets state on mount\nfunction componentDidMount(){var _this2=this;var id=this.props.match.params.id;this.props.context.data.getCourseById(id).then(function(data){_this2.setState({title:data.title});_this2.setState({description:data.description});_this2.setState({estimatedTime:data.estimatedTime});_this2.setState({materialsNeeded:data.materialsNeeded});_this2.setState({userId:data.userId});_this2.setState({fullName:data.owner.firstName+' '+data.owner.lastName});if(_this2.props.context.authenticatedUser){_this2.setState({authUserId:_this2.props.context.authenticatedUser[\"User ID\"]});}_this2.setState({didMount:true});}).catch(function(err){_this2.setState({didMount:true});console.log(err);});}},{key:\"render\",value:function render(){var _this$state=this.state,title=_this$state.title,description=_this$state.description,estimatedTime=_this$state.estimatedTime,materialsNeeded=_this$state.materialsNeeded,fullName=_this$state.fullName,authUserId=_this$state.authUserId,userId=_this$state.userId,didMount=_this$state.didMount;var id=this.props.match.params.id;// if mount function is complete either failed or success, page will return    \nif(didMount===true){return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"actions--bar\",children:authUserId!==userId?/*#__PURE__*/_jsx(\"div\",{className:\"wrap\",children:/*#__PURE__*/_jsx(\"a\",{className:\"button button-secondary\",href:\"/\",children:\"Return to List\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"wrap\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"button\",href:\"/courses/\".concat(id,\"/update\"),children:\"Update Course\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:this.handleDelete,children:\"Delete Course\"}),/*#__PURE__*/_jsx(\"a\",{className:\"button button-secondary\",href:\"/\",children:\"Return to List\"})]})}),title.length!==0?/*#__PURE__*/_jsxs(\"div\",{className:\"wrap\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Course Detail\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main--flex\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"course--detail--title\",children:\"Course\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"course--name\",children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"By \",fullName]}),/*#__PURE__*/_jsx(ReactMarkdown,{children:description})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"course--detail--title\",children:\"Estimated Time\"}),/*#__PURE__*/_jsx(\"p\",{children:estimatedTime}),/*#__PURE__*/_jsx(\"h3\",{className:\"course--detail--title\",children:\"Materials Needed\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"course--detail--list\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:materialsNeeded})})]})]})})]}):/*#__PURE__*/ // <p>Hello</p>\n_jsx(Redirect,{to:{pathname:'/notfound'}})]});}}// handles delete\n}]);return CourseDetail;}(Component);export default withRouter(CourseDetail);","map":{"version":3,"names":["React","Component","withRouter","Redirect","ReactMarkdown","CourseDetail","state","title","description","estimatedTime","materialsNeeded","UserId","fullName","authUserId","didMount","errors","handleDelete","event","password","props","context","username","authenticatedUser","Username","id","match","params","preventDefault","data","deleteCourse","then","history","push","catch","err","console","log","getCourseById","setState","userId","owner","firstName","lastName","length","pathname"],"sources":["/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/src/components/CourseDetail.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { withRouter, Redirect } from 'react-router-dom'\nimport ReactMarkdown from \"react-markdown\";\n\n\nclass CourseDetail extends Component {\n\n    state = {\n        title: '',\n        description: '',\n        estimatedTime: '',\n        materialsNeeded: '',\n        UserId: '',\n        fullName: '',\n        authUserId: '',\n        didMount: '',\n        errors: [],\n      }\n\n\n      //runs api call and sets state on mount\n    componentDidMount() {\n        const id = this.props.match.params.id;\n        this.props.context.data.getCourseById(id)\n        .then((data) => {\n            this.setState({ title: data.title })\n            this.setState({ description: data.description })\n            this.setState({ estimatedTime: data.estimatedTime })\n            this.setState({ materialsNeeded: data.materialsNeeded })\n            this.setState({ userId: data.userId })\n            this.setState({ fullName: data.owner.firstName + ' ' + data.owner.lastName })\n            if(this.props.context.authenticatedUser){\n                this.setState({ authUserId: this.props.context.authenticatedUser[ \"User ID\" ] })\n            }\n            this.setState({ didMount: true })\n        })\n        .catch((err) => {\n            this.setState({ didMount: true })\n            console.log(err);\n        });\n    }\n\n\n        render() {\n            const {\n              title,\n              description,\n              estimatedTime,\n              materialsNeeded,\n              fullName,\n              authUserId,\n              userId,\n              didMount,\n            } = this.state;\n       \n        const id = this.props.match.params.id;   \n\n    // if mount function is complete either failed or success, page will return    \n    if(didMount === true){\n    return (\n        <main>\n            <div className=\"actions--bar\">\n                \n                {authUserId !== userId ?\n                    <div className=\"wrap\">\n                        <a className=\"button button-secondary\" href=\"/\">Return to List</a>\n                    </div>\n                    :<div className=\"wrap\">\n                        <a className=\"button\" href={`/courses/${id}/update`}>Update Course</a>\n                        <button className=\"button\" onClick={this.handleDelete}>Delete Course</button>\n                        <a className=\"button button-secondary\" href=\"/\">Return to List</a>\n                    </div>\n\n                }\n            </div>\n            {(title.length !== 0)\n            ? <div className=\"wrap\">\n                <h2>Course Detail</h2>\n                <form>\n                    <div className=\"main--flex\">\n                        <div>\n                            <h3 className=\"course--detail--title\">Course</h3>\n                            <h4 className=\"course--name\">{title}</h4>\n                            <p>By {fullName}</p>\n                            <ReactMarkdown children={description} />\n                        </div>\n                        <div>\n                            <h3 className=\"course--detail--title\">Estimated Time</h3>\n                            <p>{estimatedTime}</p>\n\n                            <h3 className=\"course--detail--title\">Materials Needed</h3>\n                            <ul className=\"course--detail--list\">\n                                <ReactMarkdown children={materialsNeeded} />\n                            </ul>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            : // <p>Hello</p>\n             <Redirect to={{\n                  pathname: '/notfound',\n                }} /> \n            }\n        </main>\n    );}\n}\n\n// handles delete\n    handleDelete= (event) => {\n        const { password } = this.props.context;\n        const username = this.props.context.authenticatedUser.Username;\n        const id = this.props.match.params.id;\n        event.preventDefault();\n        this.props.context.data.deleteCourse(username, password, id)\n        .then(\n            this.props.history.push('/')\n        )\n        .catch( err => {\n        console.log(err);\n        })}\n\n\n}\n\nexport default withRouter(CourseDetail);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}