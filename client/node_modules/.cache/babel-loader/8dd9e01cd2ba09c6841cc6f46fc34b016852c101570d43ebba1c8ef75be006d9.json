{"ast":null,"code":"import _objectSpread from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Cookies from'js-cookie';import Data from'./Data';import{jsx as _jsx}from\"react/jsx-runtime\";var Context=/*#__PURE__*/React.createContext();export var Provider=/*#__PURE__*/function(_Component){_inherits(Provider,_Component);var _super=_createSuper(Provider);function Provider(){var _this;_classCallCheck(this,Provider);_this=_super.call(this);_this.state={authenticatedUser:null,password:''};_this.signIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,password){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user=null;if(!(username.length>0&&password.length>0)){_context.next=9;break;}_context.next=4;return _this.data.getUser(username,password);case 4:user=_context.sent;if(user!==null){_this.setState(function(){return{password:password,authenticatedUser:user};});Cookies.set('authenticatedUser',JSON.stringify(user),{expires:1});Cookies.set('password',JSON.stringify(password),{expires:1});}return _context.abrupt(\"return\",user);case 9:return _context.abrupt(\"return\",user);case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.signOut=function(){_this.setState(function(){return{password:'',authenticatedUser:null};});Cookies.remove('authenticatedUser','password');};_this.data=new Data();_this.cookie=Cookies.get('authenticatedUser');_this.password=Cookies.get('password');_this.state={authenticatedUser:_this.cookie?JSON.parse(_this.cookie):null,password:_this.password?JSON.parse(_this.password):null};return _this;}_createClass(Provider,[{key:\"render\",value:function render(){var authenticatedUser=this.state.authenticatedUser;var password=this.state.password;var value={authenticatedUser:authenticatedUser,password:password,data:this.data,actions:{// Add the 'actions' property and object\nsignIn:this.signIn,signOut:this.signOut}};return/*#__PURE__*/_jsx(Context.Provider,{value:value,children:this.props.children});}// Function to handle sign in\n}]);return Provider;}(Component);export var Consumer=Context.Consumer;/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */export default function withContext(Component){return function ContextComponent(props){return/*#__PURE__*/_jsx(Context.Consumer,{children:function children(context){return/*#__PURE__*/_jsx(Component,_objectSpread(_objectSpread({},props),{},{context:context}));}});};}","map":{"version":3,"names":["React","Component","Cookies","Data","Context","createContext","Provider","state","authenticatedUser","password","signIn","username","user","length","data","getUser","setState","set","JSON","stringify","expires","signOut","remove","cookie","get","parse","value","actions","props","children","Consumer","withContext","ContextComponent","context"],"sources":["/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/src/Context.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Data from './Data';\n\nconst Context = React.createContext(); \n\nexport class Provider extends Component {\n\n  state = {\n    authenticatedUser: null,\n    password: '',\n  };\n\n  constructor() {\n    super();\n    this.data = new Data();\n    this.cookie = Cookies.get('authenticatedUser');\n    this.password = Cookies.get('password');\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null,\n      password: this.password ? JSON.parse(this.password) : null,\n    };\n  }\n\n\n  render() {\n    const { authenticatedUser } = this.state;\n    const { password } = this.state\n\n    const value = {\n      authenticatedUser,\n      password,\n      data: this.data,\n      actions: { // Add the 'actions' property and object\n        signIn: this.signIn,\n        signOut: this.signOut\n      }\n    };\n\n    return (\n      <Context.Provider value={value}>\n        {this.props.children}\n      </Context.Provider>  \n    );\n  }\n\n  // Function to handle sign in\n  \n  signIn = async (username, password)  => {\n    let user = null;\n    if (username.length > 0 && password.length > 0) {\n    user = await this.data.getUser(username, password);\n    if (user !== null) {\n      this.setState(() => {\n        return {\n          password,\n          authenticatedUser: user,\n        };\n      });\n      Cookies.set('authenticatedUser', JSON.stringify(user), { expires: 1 });\n      Cookies.set('password', JSON.stringify(password), { expires: 1 });\n    }\n    return user;\n  } else {\n    return user;\n  }\n  }\n\n//Function to hanlde sign out\n\n  signOut = () => {\n    this.setState(() => {\n      return {\n        password: '',\n        authenticatedUser: null,\n      };\n    });\n    Cookies.remove('authenticatedUser', 'password');\n  }\n}\n\nexport const Consumer = Context.Consumer;\n\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return (\n      <Context.Consumer>\n        {context => <Component {...props} context={context} />}\n      </Context.Consumer>\n    );\n  }\n}\n\n"],"mappings":"yoCAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,QAAO,KAAM,WAAW,CAC/B,MAAOC,KAAI,KAAM,QAAQ,CAAC,2CAE1B,GAAMC,QAAO,cAAGJ,KAAK,CAACK,aAAa,EAAE,CAErC,UAAaC,SAAQ,oGAOnB,mBAAc,0CACZ,wBAAQ,MANVC,KAAK,CAAG,CACNC,iBAAiB,CAAE,IAAI,CACvBC,QAAQ,CAAE,EACZ,CAAC,OAqCDC,MAAM,4FAAG,iBAAOC,QAAQ,CAAEF,QAAQ,6HAC5BG,IAAI,CAAG,IAAI,MACXD,QAAQ,CAACE,MAAM,CAAG,CAAC,EAAIJ,QAAQ,CAACI,MAAM,CAAG,CAAC,gDACjC,OAAKC,IAAI,CAACC,OAAO,CAACJ,QAAQ,CAAEF,QAAQ,CAAC,QAAlDG,IAAI,eACJ,GAAIA,IAAI,GAAK,IAAI,CAAE,CACjB,MAAKI,QAAQ,CAAC,UAAM,CAClB,MAAO,CACLP,QAAQ,CAARA,QAAQ,CACRD,iBAAiB,CAAEI,IACrB,CAAC,CACH,CAAC,CAAC,CACFV,OAAO,CAACe,GAAG,CAAC,mBAAmB,CAAEC,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC,CAAE,CAAEQ,OAAO,CAAE,CAAE,CAAC,CAAC,CACtElB,OAAO,CAACe,GAAG,CAAC,UAAU,CAAEC,IAAI,CAACC,SAAS,CAACV,QAAQ,CAAC,CAAE,CAAEW,OAAO,CAAE,CAAE,CAAC,CAAC,CACnE,CAAC,gCACMR,IAAI,yCAEJA,IAAI,yDAEZ,yEAIDS,OAAO,CAAG,UAAM,CACd,MAAKL,QAAQ,CAAC,UAAM,CAClB,MAAO,CACLP,QAAQ,CAAE,EAAE,CACZD,iBAAiB,CAAE,IACrB,CAAC,CACH,CAAC,CAAC,CACFN,OAAO,CAACoB,MAAM,CAAC,mBAAmB,CAAE,UAAU,CAAC,CACjD,CAAC,CA/DC,MAAKR,IAAI,CAAG,GAAIX,KAAI,EAAE,CACtB,MAAKoB,MAAM,CAAGrB,OAAO,CAACsB,GAAG,CAAC,mBAAmB,CAAC,CAC9C,MAAKf,QAAQ,CAAGP,OAAO,CAACsB,GAAG,CAAC,UAAU,CAAC,CACvC,MAAKjB,KAAK,CAAG,CACXC,iBAAiB,CAAE,MAAKe,MAAM,CAAGL,IAAI,CAACO,KAAK,CAAC,MAAKF,MAAM,CAAC,CAAG,IAAI,CAC/Dd,QAAQ,CAAE,MAAKA,QAAQ,CAAGS,IAAI,CAACO,KAAK,CAAC,MAAKhB,QAAQ,CAAC,CAAG,IACxD,CAAC,CAAC,aACJ,CAAC,2CAGD,iBAAS,CACP,GAAQD,kBAAiB,CAAK,IAAI,CAACD,KAAK,CAAhCC,iBAAiB,CACzB,GAAQC,SAAQ,CAAK,IAAI,CAACF,KAAK,CAAvBE,QAAQ,CAEhB,GAAMiB,MAAK,CAAG,CACZlB,iBAAiB,CAAjBA,iBAAiB,CACjBC,QAAQ,CAARA,QAAQ,CACRK,IAAI,CAAE,IAAI,CAACA,IAAI,CACfa,OAAO,CAAE,CAAE;AACTjB,MAAM,CAAE,IAAI,CAACA,MAAM,CACnBW,OAAO,CAAE,IAAI,CAACA,OAChB,CACF,CAAC,CAED,mBACE,KAAC,OAAO,CAAC,QAAQ,EAAC,KAAK,CAAEK,KAAM,UAC5B,IAAI,CAACE,KAAK,CAACC,QAAQ,EACH,CAEvB,CAEA;AAAA,sBAxC4B5B,SAAS,EA2EvC,MAAO,IAAM6B,SAAQ,CAAG1B,OAAO,CAAC0B,QAAQ,CAExC;AACA;AACA;AACA;AACA,GAEA,cAAe,SAASC,YAAW,CAAC9B,SAAS,CAAE,CAC7C,MAAO,SAAS+B,iBAAgB,CAACJ,KAAK,CAAE,CACtC,mBACE,KAAC,OAAO,CAAC,QAAQ,WACd,kBAAAK,OAAO,qBAAI,KAAC,SAAS,gCAAKL,KAAK,MAAE,OAAO,CAAEK,OAAQ,GAAG,IACrC,CAEvB,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}