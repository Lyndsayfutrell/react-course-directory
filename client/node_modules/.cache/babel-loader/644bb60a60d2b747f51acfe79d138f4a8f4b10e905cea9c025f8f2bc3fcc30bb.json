{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import config from'./config';var Data=/*#__PURE__*/function(){function Data(){_classCallCheck(this,Data);}_createClass(Data,[{key:\"api\",value://API data\nfunction api(path){var method=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'GET';var body=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var requiresAuth=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var credentials=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var url=config.apiBaseUrl+path;var options={method:method,headers:{'Content-Type':'application/json; charset=utf-8'}};if(body!==null){options.body=JSON.stringify(body);}if(requiresAuth){var encodedCredentials=btoa(\"\".concat(credentials.username,\":\").concat(credentials.password));options.headers['Authorization']=\"Basic \".concat(encodedCredentials);}return fetch(url,options);}// GET request to get user on sign in \n},{key:\"getUser\",value:function(){var _getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,password){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.api(\"/users\",'GET',null,true,{username:username,password:password});case 2:response=_context.sent;if(!(response.status===200)){_context.next=7;break;}return _context.abrupt(\"return\",response.json().then(function(data){return data;}));case 7:if(!(response.status===401)){_context.next=11;break;}return _context.abrupt(\"return\",null);case 11:throw new Error();case 12:case\"end\":return _context.stop();}}},_callee,this);}));function getUser(_x,_x2){return _getUser.apply(this,arguments);}return getUser;}()//POST request to create user on sign up\n},{key:\"createUser\",value:function(){var _createUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(user){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.api('/users','POST',user);case 2:response=_context2.sent;if(!(response.status===201)){_context2.next=7;break;}return _context2.abrupt(\"return\",[]);case 7:if(!(response.status===400)){_context2.next=11;break;}return _context2.abrupt(\"return\",response.json().then(function(data){return data.errors;}));case 11:throw new Error();case 12:case\"end\":return _context2.stop();}}},_callee2,this);}));function createUser(_x3){return _createUser.apply(this,arguments);}return createUser;}()// GET request to get all courses\n},{key:\"getCourses\",value:function(){var _getCourses=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.api('/courses','GET');case 2:response=_context3.sent;if(!(response.status===200)){_context3.next=7;break;}return _context3.abrupt(\"return\",response.json().then(function(data){return data;}));case 7:throw new Error();case 8:case\"end\":return _context3.stop();}}},_callee3,this);}));function getCourses(){return _getCourses.apply(this,arguments);}return getCourses;}()// GET request to get course by id\n},{key:\"getCourseById\",value:function(){var _getCourseById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.api(\"/courses/\".concat(id),'GET');case 2:response=_context4.sent;if(!(response.status===200)){_context4.next=7;break;}return _context4.abrupt(\"return\",response.json().then(function(data){return data;}));case 7:throw new Error();case 8:case\"end\":return _context4.stop();}}},_callee4,this);}));function getCourseById(_x4){return _getCourseById.apply(this,arguments);}return getCourseById;}()// POST request to handle creating course    \n},{key:\"createCourse\",value:function(){var _createCourse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(username,password,body){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.api('/courses','POST',body,true,{username:username,password:password});case 2:response=_context5.sent;if(!(response.status===201)){_context5.next=7;break;}return _context5.abrupt(\"return\",[]);case 7:if(!(response.status===400)){_context5.next=11;break;}return _context5.abrupt(\"return\",response.json().then(function(data){return data.errors;}));case 11:throw new Error();case 12:case\"end\":return _context5.stop();}}},_callee5,this);}));function createCourse(_x5,_x6,_x7){return _createCourse.apply(this,arguments);}return createCourse;}()// delete request to delete courses   \n},{key:\"deleteCourse\",value:function(){var _deleteCourse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(username,password,id){var response;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.api(\"/courses/\".concat(id),'DELETE',null,true,{username:username,password:password});case 2:response=_context6.sent;if(!(response.status===204)){_context6.next=7;break;}return _context6.abrupt(\"return\",[]);case 7:throw new Error();case 8:case\"end\":return _context6.stop();}}},_callee6,this);}));function deleteCourse(_x8,_x9,_x10){return _deleteCourse.apply(this,arguments);}return deleteCourse;}()// PUT request to update course   \n},{key:\"updateCourse\",value:function(){var _updateCourse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(username,password,body,id){var response;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.api(\"/courses/\".concat(id),'PUT',body,true,{username:username,password:password});case 2:response=_context7.sent;if(!(response.status===204)){_context7.next=7;break;}return _context7.abrupt(\"return\",[]);case 7:if(!(response.status===400)){_context7.next=11;break;}return _context7.abrupt(\"return\",response.json().then(function(data){return data.errors;}));case 11:throw new Error();case 12:case\"end\":return _context7.stop();}}},_callee7,this);}));function updateCourse(_x11,_x12,_x13,_x14){return _updateCourse.apply(this,arguments);}return updateCourse;}()}]);return Data;}();export{Data as default};","map":{"version":3,"names":["config","Data","path","method","body","requiresAuth","credentials","url","apiBaseUrl","options","headers","JSON","stringify","encodedCredentials","btoa","username","password","fetch","api","response","status","json","then","data","Error","user","errors","id"],"sources":["/Users/lyndsayfutrell/Desktop/Portfolio/ProjectTen/react-course-directory/client/src/Data.js"],"sourcesContent":["import config from './config';\n\nexport default class Data {\n    //API data\n  api(path, method = 'GET', body = null, requiresAuth = false, credentials = null) {\n    const url = config.apiBaseUrl + path;\n  \n    const options = {\n      method,\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      },\n      \n    };\n\n    if (body !== null) {\n      options.body = JSON.stringify(body);\n    }\n\n    if (requiresAuth) {    \n      const encodedCredentials = btoa(`${credentials.username}:${credentials.password}`);\n\n      options.headers['Authorization'] = `Basic ${encodedCredentials}`;\n    }\n    return fetch(url, options);\n  }\n\n // GET request to get user on sign in \n  async getUser(username, password) {\n    const response = await this.api(`/users`, 'GET', null, true, { username, password });\n    if (response.status === 200) {\n      return response.json().then(data => data);\n    }\n    else if (response.status === 401) {\n      return null;\n    }\n    else {\n      throw new Error();\n    }\n  }\n  \n\n  //POST request to create user on sign up\n  async createUser(user) {\n    const response = await this.api('/users', 'POST', user);\n    if (response.status === 201) {\n      return [];\n    }\n    else if (response.status === 400) {\n      return response.json().then(data => {\n        return data.errors;\n      });\n    }\n    else {\n      throw new Error();\n    }\n  }\n\n// GET request to get all courses\n  async getCourses() {\n    const response = await this.api('/courses', 'GET');\n    if (response.status === 200) {\n        return response.json().then((data) => data);\n      } else {\n            throw new Error();\n        }\n      \n    }\n\n// GET request to get course by id\n    async getCourseById(id) {\n        const response = await this.api(`/courses/${id}`, 'GET');\n        if (response.status === 200) {\n            return response.json().then((data) => data);\n          } else {\n                throw new Error();\n            }\n          \n        }\n    \n\n    // POST request to handle creating course    \n    async createCourse(username, password, body) {\n        const response = await this.api('/courses', 'POST', body, true, { username, password });\n        if (response.status === 201) {\n            return [];\n        } else if (response.status === 400) {\n                return response.json().then(data => {\n                  return data.errors;\n                });\n          } else {\n                throw new Error();\n            } \n        }\n    \n\n     // delete request to delete courses   \n        async deleteCourse(username, password, id) {\n            const response = await this.api(`/courses/${id}`, 'DELETE', null, true, { username, password });\n            if (response.status === 204) {\n                return [];\n            } else {\n                throw new Error();\n            }\n    \n        }\n\n\n     // PUT request to update course   \n        async updateCourse(username, password, body, id) {\n            const response = await this.api(`/courses/${id}`, 'PUT', body, true, { username, password });\n            if (response.status === 204) {\n                return [];\n            }else if (response.status === 400) {\n                    return response.json().then(data => {\n                      return data.errors;\n                    });\n            } else {\n                    throw new Error();\n                } \n            }\n    \n    \n    }\n\n    \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}