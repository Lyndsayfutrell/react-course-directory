{"ast":null,"code":"import _defineProperty from\"/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link,withRouter}from'react-router-dom';import Form from'./Form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserSignIn=/*#__PURE__*/function(_Component){_inherits(UserSignIn,_Component);var _super=_createSuper(UserSignIn);function UserSignIn(){var _this;_classCallCheck(this,UserSignIn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={emailAddress:'',password:'',errors:[]};_this.change=function(event){var name=event.target.name;var value=event.target.value;_this.setState(function(){return _defineProperty({},name,value);});};_this.submit=function(){var context=_this.props.context;var _ref2=_this.props.location.state||{from:{pathname:'/'}},from=_ref2.from;var _this$state=_this.state,emailAddress=_this$state.emailAddress,password=_this$state.password;context.actions.signIn(emailAddress,password).then(function(user){if(user===null){_this.setState(function(){return{errors:['Sign-in was unsuccessful']};});}else{_this.props.history.push(from);}}).catch(function(err){console.log(err);_this.props.history.push('/error');});};_this.cancel=function(){_this.props.history.push('/');};return _this;}_createClass(UserSignIn,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,emailAddress=_this$state2.emailAddress,password=_this$state2.password,errors=_this$state2.errors;return/*#__PURE__*/_jsxs(\"div\",{className:\"form--centered\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),/*#__PURE__*/_jsx(Form,{cancel:this.cancel,errors:errors,submit:this.submit,submitButtonText:\"Sign In\",elements:function elements(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{for:\"emailAddress\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"emailAddress\",name:\"emailAddress\",type:\"text\",value:emailAddress,onChange:_this2.change,placeholder:\"User Name\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",value:password,onChange:_this2.change,placeholder:\"Password\"})]});}}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have a user account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Click here\"}),\" to sign up!\"]})]});}//handles change and updates value field\n}]);return UserSignIn;}(Component);export default withRouter(UserSignIn);","map":{"version":3,"names":["React","Component","Link","withRouter","Form","UserSignIn","state","emailAddress","password","errors","change","event","name","target","value","setState","submit","context","props","location","from","pathname","actions","signIn","then","user","history","push","catch","err","console","log","cancel"],"sources":["/Users/lyndsayfutrell/Desktop/FullStack/ProjectTen/client/src/components/UserSignIn.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Form from './Form';\n\nclass UserSignIn extends Component {\n\n  state = {\n    emailAddress: '',\n    password: '',\n    errors: [],\n  }\n\n  render() {\n    const {\n      emailAddress,\n      password,\n      errors,\n    } = this.state;\n\n    return (\n        <div className=\"form--centered\">\n          <h2>Sign In</h2>\n          <Form \n            cancel={this.cancel}\n            errors={errors}\n            submit={this.submit}\n            submitButtonText=\"Sign In\"\n            elements={() => (\n              <React.Fragment>\n              <label for=\"emailAddress\">Email Address</label>\n                <input \n                  id=\"emailAddress\" \n                  name=\"emailAddress\" \n                  type=\"text\"\n                  value={emailAddress} \n                  onChange={this.change} \n                  placeholder=\"User Name\" />\n                  <label for=\"password\">Password</label>\n                <input \n                  id=\"password\" \n                  name=\"password\"\n                  type=\"password\"\n                  value={password} \n                  onChange={this.change} \n                  placeholder=\"Password\" />                \n              </React.Fragment>\n            )} />\n          <p>\n            Don't have a user account? <Link to=\"/signup\">Click here</Link> to sign up!\n          </p>\n        </div>\n    );\n  }\n\n\n  //handles change and updates value field\n  change = (event) => {\n    const name = event.target.name;\n    const value = event.target.value;\n\n    this.setState(() => {\n      return {\n        [name]: value\n      };\n    });\n  }\n\n  //handles submit\n\n  submit = () => {\n    const { context } = this.props;\n    const { from } = this.props.location.state || { from: { pathname: '/' } };\n    const { emailAddress, password } = this.state;\n    context.actions.signIn(emailAddress, password)\n    .then( user => {\n      if (user === null) {\n        this.setState(() => {\n          return { errors: [ 'Sign-in was unsuccessful' ] };\n        });\n      } else {\n        this.props.history.push(from);\n     }\n    })\n    .catch( err => {\n      console.log(err);\n      this.props.history.push('/error')\n    })\n  }\n\n\n  //handles cancel and takes to home page\n  cancel = () => {\n   this.props.history.push('/')\n  }\n}\n\nexport default withRouter(UserSignIn);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}